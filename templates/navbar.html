{{define "navbar"}}
<div style="width: 100%; display: flex; justify-content: flex-end; flex-wrap: nowrap; padding: 1rem;">
    <div style="display: flex; align-items: center; gap: 0.4rem;">
        {{if .UserId}}
        <span class="image is-32x32">
            <img class="is-rounded" src="https://cdn.discordapp.com/avatars/{{.UserId}}/{{.Avatar}}.png">
        </span>
        <div class="dropdown">
            <div class="dropdown-trigger">
                <div role="button" style="cursor: pointer;" aria-haspopup="true" aria-controls="dropdown-menu">
                    <span><strong>{{.Username}}</strong></span> 
                    <span class="icon is-small">
                        <i class="fas fa-angle-down" aria-hidden="true"></i>
                    </span>
                </div>
            </div>
            <div class="dropdown-menu" id="dropdown-menu" role="menu">
                <div class="dropdown-content">
                    <a href="/api/logout" class="dropdown-item">
                        Logout
                    </a>
                </div>
            </div>
        </div>
        {{else}}
        <a href="./api/login">
            <button class="button">Login</button>
        </a>
        {{end}}
    </div>
</div>
<script>
var dropdown = document.querySelector('.dropdown');
if (dropdown) {
    dropdown.addEventListener('click', event => {
        event.stopPropagation();
        dropdown.classList.toggle('is-active');
    });

}
</script>
{{end}}

